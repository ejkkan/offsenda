# Prometheus storage configuration for production
# This creates a persistent volume for Prometheus data on Hetzner
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: prometheus-storage
  namespace: monitoring
  labels:
    app: prometheus
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: hcloud-volumes  # Hetzner Cloud Volumes
  resources:
    requests:
      storage: 50Gi  # Adjust based on retention needs

---
# If using kube-prometheus-stack, configure via Helm values instead:
# helm install prometheus prometheus-community/kube-prometheus-stack \
#   --set prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage=50Gi \
#   --set prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName=hcloud-volumes