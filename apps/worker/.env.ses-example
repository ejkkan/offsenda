# AWS SES Configuration Example (BYOK Mode)
# Copy this to .env and configure for your AWS SES setup

# Database
DATABASE_URL="postgresql://user:password@host:5432/batchsender"

# NATS JetStream
NATS_CLUSTER="nats://localhost:4222"

# ClickHouse
CLICKHOUSE_URL="http://localhost:8123"
CLICKHOUSE_USER="default"
CLICKHOUSE_PASSWORD=""
CLICKHOUSE_DATABASE="batchsender"

# Dragonfly (Redis-compatible - for distributed rate limiting)
DRAGONFLY_URL="localhost:6379"

# Email Provider - AWS SES (BYOK)
EMAIL_PROVIDER="ses"
AWS_REGION="eu-north-1"  # Your AWS region
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"

# Webhooks (for delivery/bounce notifications)
WEBHOOK_SECRET="your-webhook-secret-key"

# Server
PORT=6001

# Worker scaling
WORKER_ID="worker-1"  # Unique ID for each worker instance

# Environment
NODE_ENV="production"

# ============================================================================
# BYOK RATE LIMITING:
# ============================================================================
#
# When using your own AWS SES credentials (BYOK mode), YOU control the rate
# limits via your sendConfig settings. No hidden defaults are applied.
#
# In your sendConfig, set rateLimit.requestsPerSecond:
#   - AWS SES sandbox: 14/sec (typical starting limit)
#   - After requesting increase: whatever AWS approved
#   - No limit set = unlimited (be careful not to exceed AWS limits!)
#
# Example sendConfig:
# {
#   "module": "email",
#   "config": {
#     "provider": "ses",
#     "credentials": { ... }
#   },
#   "rateLimit": {
#     "requestsPerSecond": 14  // Match your AWS SES limit
#   }
# }
#
# ============================================================================
# SCALING:
# ============================================================================
#
# 1. Request higher AWS limits from AWS support
# 2. Update your sendConfig's rateLimit.requestsPerSecond
# 3. No server restart needed - takes effect immediately
#
